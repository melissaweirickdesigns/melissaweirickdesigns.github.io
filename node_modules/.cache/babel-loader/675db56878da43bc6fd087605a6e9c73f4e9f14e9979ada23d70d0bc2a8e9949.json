{"ast":null,"code":"import _slicedToArray from\"/home/melissaweirickdesigns/melissa-weirick-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{Suspense,useEffect,useState}from\"react\";import{Helmet}from\"react-helmet\";import Layout from\"../components/Layout\";import Pagination from\"../components/Pagination\";import PortfoliosView from\"../components/PortfoliosView\";import Sectiontitle from\"../components/Sectiontitle\";import Spinner from\"../components/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Portfolios(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),portfolios=_useState2[0],setPortfoios=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(9),_useState6=_slicedToArray(_useState5,1),portfoliosPerPage=_useState6[0];useEffect(function(){var mounted=true;axios.get(\"/api/portfolios\").then(function(response){if(mounted){setPortfoios(response.data);}});return function(){return mounted=false;};},[]);var indexOfLastPortfolios=currentPage*portfoliosPerPage;var indexOfFirstPortfolios=indexOfLastPortfolios-portfoliosPerPage;var currentPortfolios=portfolios.slice(indexOfFirstPortfolios,indexOfLastPortfolios);var paginate=function paginate(e,pageNumber){e.preventDefault();setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Portfolio - Melissa Weirick Portfolio\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"Portfolio - Melissa Weirick Portfolio\",content:\"Personal Portfolio of Web Design and Full Stack Development\"})]}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mi-about mi-section mi-padding-top mi-padding-bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Sectiontitle,{title:\"Portfolio\"}),/*#__PURE__*/_jsx(PortfoliosView,{portfolios:currentPortfolios}),!(portfolios.length>portfoliosPerPage)?null:/*#__PURE__*/_jsx(Pagination,{className:\"mt-50\",itemsPerPage:portfoliosPerPage,totalItems:portfolios.length,paginate:paginate,currentPage:currentPage})]})})})]});}export default Portfolios;","map":{"version":3,"names":["axios","React","Suspense","useEffect","useState","Helmet","Layout","Pagination","PortfoliosView","Sectiontitle","Spinner","jsx","_jsx","jsxs","_jsxs","Portfolios","_useState","_useState2","_slicedToArray","portfolios","setPortfoios","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","portfoliosPerPage","mounted","get","then","response","data","indexOfLastPortfolios","indexOfFirstPortfolios","currentPortfolios","slice","paginate","e","pageNumber","preventDefault","children","name","content","fallback","className","title","length","itemsPerPage","totalItems"],"sources":["/home/melissaweirickdesigns/melissa-weirick-portfolio/src/pages/Portfolios.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { Suspense, useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport Layout from \"../components/Layout\";\nimport Pagination from \"../components/Pagination\";\nimport PortfoliosView from \"../components/PortfoliosView\";\nimport Sectiontitle from \"../components/Sectiontitle\";\nimport Spinner from \"../components/Spinner\";\n\nfunction Portfolios() {\n  const [portfolios, setPortfoios] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [portfoliosPerPage] = useState(9);\n\n  useEffect(() => {\n    let mounted = true;\n    axios.get(\"/api/portfolios\").then((response) => {\n      if (mounted) {\n        setPortfoios(response.data);\n      }\n    });\n    return () => (mounted = false);\n  }, []);\n\n  const indexOfLastPortfolios = currentPage * portfoliosPerPage;\n  const indexOfFirstPortfolios = indexOfLastPortfolios - portfoliosPerPage;\n  const currentPortfolios = portfolios.slice(\n    indexOfFirstPortfolios,\n    indexOfLastPortfolios\n  );\n\n  const paginate = (e, pageNumber) => {\n    e.preventDefault();\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <Layout>\n      <Helmet>\n        <title>Portfolio - Melissa Weirick Portfolio</title>\n        <meta\n          name=\"Portfolio - Melissa Weirick Portfolio\"\n          content=\"Personal Portfolio of Web Design and Full Stack Development\"\n        />\n      </Helmet>\n      <Suspense fallback={<Spinner />}>\n        <div className=\"mi-about mi-section mi-padding-top mi-padding-bottom\">\n          <div className=\"container\">\n            <Sectiontitle title=\"Portfolio\" />\n            {<PortfoliosView portfolios={currentPortfolios} />}\n            {!(portfolios.length > portfoliosPerPage) ? null : (\n              <Pagination\n                className=\"mt-50\"\n                itemsPerPage={portfoliosPerPage}\n                totalItems={portfolios.length}\n                paginate={paginate}\n                currentPage={currentPage}\n              />\n            )}\n          </div>\n        </div>\n      </Suspense>\n    </Layout>\n  );\n}\n\nexport default Portfolios;\n"],"mappings":"2IAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC5D,OAASC,MAAM,KAAQ,cAAc,CACrC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,IAAAC,SAAA,CAAmCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,UAAU,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC/B,IAAAI,UAAA,CAAsCjB,QAAQ,CAAC,CAAC,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA1CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAA4BrB,QAAQ,CAAC,CAAC,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAhCE,iBAAiB,CAAAD,UAAA,IAExBvB,SAAS,CAAC,UAAM,CACd,GAAI,CAAAyB,OAAO,CAAG,IAAI,CAClB5B,KAAK,CAAC6B,GAAG,CAAC,iBAAiB,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAC9C,GAAIH,OAAO,CAAE,CACXR,YAAY,CAACW,QAAQ,CAACC,IAAI,CAAC,CAC7B,CACF,CAAC,CAAC,CACF,MAAO,kBAAO,CAAAJ,OAAO,CAAG,KAAK,EAAC,CAChC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAK,qBAAqB,CAAGV,WAAW,CAAGI,iBAAiB,CAC7D,GAAM,CAAAO,sBAAsB,CAAGD,qBAAqB,CAAGN,iBAAiB,CACxE,GAAM,CAAAQ,iBAAiB,CAAGhB,UAAU,CAACiB,KAAK,CACxCF,sBAAsB,CACtBD,qBACF,CAAC,CAED,GAAM,CAAAI,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,CAAC,CAAEC,UAAU,CAAK,CAClCD,CAAC,CAACE,cAAc,CAAC,CAAC,CAClBhB,cAAc,CAACe,UAAU,CAAC,CAC5B,CAAC,CAED,mBACEzB,KAAA,CAACR,MAAM,EAAAmC,QAAA,eACL3B,KAAA,CAACT,MAAM,EAAAoC,QAAA,eACL7B,IAAA,UAAA6B,QAAA,CAAO,uCAAqC,CAAO,CAAC,cACpD7B,IAAA,SACE8B,IAAI,CAAC,uCAAuC,CAC5CC,OAAO,CAAC,6DAA6D,CACtE,CAAC,EACI,CAAC,cACT/B,IAAA,CAACV,QAAQ,EAAC0C,QAAQ,cAAEhC,IAAA,CAACF,OAAO,GAAE,CAAE,CAAA+B,QAAA,cAC9B7B,IAAA,QAAKiC,SAAS,CAAC,sDAAsD,CAAAJ,QAAA,cACnE3B,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAJ,QAAA,eACxB7B,IAAA,CAACH,YAAY,EAACqC,KAAK,CAAC,WAAW,CAAE,CAAC,cACjClC,IAAA,CAACJ,cAAc,EAACW,UAAU,CAAEgB,iBAAkB,CAAE,CAAC,CACjD,EAAEhB,UAAU,CAAC4B,MAAM,CAAGpB,iBAAiB,CAAC,CAAG,IAAI,cAC9Cf,IAAA,CAACL,UAAU,EACTsC,SAAS,CAAC,OAAO,CACjBG,YAAY,CAAErB,iBAAkB,CAChCsB,UAAU,CAAE9B,UAAU,CAAC4B,MAAO,CAC9BV,QAAQ,CAAEA,QAAS,CACnBd,WAAW,CAAEA,WAAY,CAC1B,CACF,EACE,CAAC,CACH,CAAC,CACE,CAAC,EACL,CAAC,CAEb,CAEA,cAAe,CAAAR,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}